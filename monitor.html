<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolarHome - Monitor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="common.css" rel="stylesheet">
    <link href="monitor.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-4 md:p-8">

    <div class="max-w-6xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
        <header class="bg-white border-b border-gray-200">
            <div class="p-4 md:p-6 flex justify-between items-center">
                <h1 class="text-2xl font-bold text-green-600">SolarHome</h1>
                <nav class="flex space-x-2 md:space-x-4">
                    <a href="index.html" class="nav-btn px-3 py-2 rounded-lg text-sm md:text-base font-medium text-gray-600 bg-gray-100 hover:bg-gray-200">Home</a>
                    <a href="planner.html" class="nav-btn px-3 py-2 rounded-lg text-sm md:text-base font-medium text-gray-600 bg-gray-100 hover:bg-gray-200">Planner</a>
                    <a href="monitor.html" class="nav-btn px-3 py-2 rounded-lg text-sm md:text-base font-medium text-white bg-green-600">Monitor</a>
                    <a href="consultant.html" class="nav-btn px-3 py-2 rounded-lg text-sm md:text-base font-medium text-gray-600 bg-gray-100 hover:bg-gray-200">Consultant</a>
                </nav>
            </div>
        </header>

        <main class="p-4 md:p-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Your Home Monitor</h2>
            
            <div class="mb-6 border-b border-gray-200">
                <nav class="flex space-x-1" id="monitor-nav">
                    <button class="sub-nav-btn active" data-target="monitor-task3">Live Dashboard</button>
                    <button class="sub-nav-btn" data-target="monitor-task4">Performance Reports</button>
                    <button class="sub-nav-btn" data-target="monitor-task7">
                        <span class="flex items-center gap-2">
                            System Alerts
                            <span class="inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-600 rounded-full live-pulse">1</span>
                        </span>
                    </button>
                </nav>
            </div>

            <div id="monitor-task3" class="sub-page active">
                <div class="bg-red-100 border-l-4 border-red-600 p-4 rounded-lg mb-6 cursor-pointer hover:bg-red-200 transition-colors" onclick="document.querySelector('[data-target=\'monitor-task7\']').click()">
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">‚ö†Ô∏è</span>
                        <div class="flex-1">
                            <p class="font-bold text-red-900">System Alert: Inverter Offline</p>
                            <p class="text-sm text-red-700">Click here to view diagnostic information and troubleshooting steps</p>
                        </div>
                        <span class="text-red-600 font-bold">‚Üí</span>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="space-y-6">
                        <div class="bg-white p-6 rounded-xl shadow-lg card-hover border-l-4 border-green-500">
                            <div class="flex items-center justify-between mb-3">
                                <h3 class="text-lg font-semibold text-gray-700">Production</h3>
                                <span class="text-3xl live-pulse">‚òÄÔ∏è</span>
                            </div>
                            <p class="text-5xl font-bold text-green-600">4.1 <span class="text-2xl">kW</span></p>
                            <div class="text-sm text-gray-500 mt-2">‚Üó +0.3 kW from last hour</div>
                            <div class="h-20 mt-4 w-full">
                                <svg class="w-full h-full" viewBox="0 0 100 50">
                                    <rect x="5" y="30" width="10" height="20" fill="#a7f3d0" rx="2"></rect>
                                    <rect x="20" y="25" width="10" height="25" fill="#a7f3d0" rx="2"></rect>
                                    <rect x="35" y="10" width="10" height="40" fill="#4ade80" rx="2"></rect>
                                    <rect x="50" y="15" width="10" height="35" fill="#a7f3d0" rx="2"></rect>
                                    <rect x="65" y="20" width="10" height="30" fill="#a7f3d0" rx="2"></rect>
                                    <rect x="80" y="35" width="10" height="15" fill="#a7f3d0" rx="2"></rect>
                                </svg>
                            </div>
                        </div>
                        
                        <div class="bg-white p-6 rounded-xl shadow-lg card-hover border-l-4 border-yellow-500">
                            <div class="flex items-center justify-between mb-3">
                                <h3 class="text-lg font-semibold text-gray-700">Consumption</h3>
                                <span class="text-3xl">üè°</span>
                            </div>
                            <p class="text-5xl font-bold text-yellow-600">1.2 <span class="text-2xl">kW</span></p>
                            <div class="text-sm text-gray-500 mt-2">‚Üò -0.5 kW from last hour</div>
                            <div class="h-20 mt-4 w-full">
                                <svg class="w-full h-full" viewBox="0 0 100 50">
                                    <rect x="5" y="40" width="10" height="10" fill="#fef9c3" rx="2"></rect>
                                    <rect x="20" y="35" width="10" height="15" fill="#fef9c3" rx="2"></rect>
                                    <rect x="35" y="30" width="10" height="20" fill="#facc15" rx="2"></rect>
                                    <rect x="50" y="32" width="10" height="18" fill="#fef9c3" rx="2"></rect>
                                    <rect x="65" y="38" width="10" height="12" fill="#fef9c3" rx="2"></rect>
                                    <rect x="80" y="40" width="10" height="10" fill="#fef9c3" rx="2"></rect>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-lg h-full card-hover">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4">‚ö° Live Energy Flow</h3>
                        <svg class="w-full h-64 md:h-full" viewBox="0 0 300 200">
                            <circle cx="30" cy="30" r="25" fill="#dcfce7" stroke="#16a34a" stroke-width="2"/>
                            <text x="30" y="35" font-size="24" text-anchor="middle">‚òÄÔ∏è</text>
                            <text x="30" y="65" font-size="11" text-anchor="middle" font-weight="600">4.1 kW</text>
                            
                            <circle cx="150" cy="110" r="25" fill="#fef9c3" stroke="#facc15" stroke-width="2"/>
                            <text x="150" y="115" font-size="24" text-anchor="middle">üè°</text>
                            <text x="150" y="145" font-size="11" text-anchor="middle" font-weight="600">1.2 kW</text>
                            
                            <circle cx="270" cy="30" r="25" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
                            <text x="270" y="35" font-size="24" text-anchor="middle">üîã</text>
                            <text x="270" y="65" font-size="11" text-anchor="middle" font-weight="600">+2.9 kW</text>
                            
                            <defs>
                                <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
                                    <path d="M0,0 L0,6 L9,3 z" fill="#4ade80" />
                                </marker>
                                <marker id="arrowyellow" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
                                    <path d="M0,0 L0,6 L9,3 z" fill="#facc15" />
                                </marker>
                            </defs>
                            <path d="M 55 40 L 125 100" stroke="#4ade80" stroke-width="4" fill="none" class="energy-flow-line" marker-end="url(#arrowgreen)"></path>
                            <path d="M 55 30 L 245 30" stroke="#4ade80" stroke-width="4" fill="none" class="energy-flow-line" marker-end="url(#arrowgreen)"></path>
                        </svg>
                    </div>

                    <div class="space-y-6">
                        <div class="bg-white p-6 rounded-xl shadow-lg text-center card-hover">
                            <h3 class="text-lg font-semibold text-gray-700 mb-4">üîã Battery Status</h3>
                            <div class="relative w-28 h-48 border-4 border-gray-800 rounded-xl mx-auto p-1 bg-gray-100">
                                <div class="absolute bottom-1 left-1 right-1 h-3/4 bg-gradient-to-t from-green-600 to-green-400 rounded-lg transition-all duration-500"></div>
                                <span class="absolute inset-0 flex items-center justify-center text-4xl font-bold text-white drop-shadow-lg">75%</span>
                            </div>
                            <div class="mt-4 text-sm text-gray-600">
                                <div>Charging at <span class="font-semibold text-green-600">2.9 kW</span></div>
                                <div class="mt-1">Full in ~45 min</div>
                            </div>
                        </div>
                        
                        <div class="bg-gradient-to-br from-green-100 to-emerald-100 p-6 rounded-xl shadow-lg border-2 border-green-300 card-hover">
                            <h3 class="text-lg font-semibold text-green-900 mb-3 flex items-center">
                                <span class="text-2xl mr-2">üí°</span> Smart Tip
                            </h3>
                            <p class="text-green-800 font-medium">Peak Sun! ‚òÄÔ∏è Perfect time to run the dishwasher or charge your EV.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="monitor-task4" class="sub-page hidden">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                    <h3 class="text-2xl font-bold text-gray-800">Your Performance Reports</h3>
                    <div class="flex space-x-2">
                        <select class="p-3 border-2 border-gray-300 rounded-xl bg-white font-medium hover:border-green-500 transition-colors">
                            <option>üìÖ Last 30 Days</option>
                            <option>üìÖ Last 3 Months</option>
                            <option>üìÖ Last Year</option>
                        </select>
                        <button class="bg-green-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-green-700 hover:shadow-lg transition-all duration-200">
                            üì• Download PDF
                        </button>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-xl shadow-lg card-hover">
                        <h4 class="text-xl font-bold text-gray-800 mb-4">‚ö° Energy Independence</h4>
                        <div class="h-64 bg-gradient-to-br from-gray-50 to-green-50 rounded-xl p-4">
                            <svg class="w-full h-full" viewBox="0 0 200 100">
                                <path d="M 10 90 L 190 90" stroke="#d1d5db" stroke-width="1.5"/>
                                <path d="M 10 10 L 10 90" stroke="#d1d5db" stroke-width="1.5"/>
                                <path d="M 10 70 L 190 70" stroke="#e5e7eb" stroke-width="0.5" stroke-dasharray="2 2"/>
                                <path d="M 10 50 L 190 50" stroke="#e5e7eb" stroke-width="0.5" stroke-dasharray="2 2"/>
                                <path d="M 10 30 L 190 30" stroke="#e5e7eb" stroke-width="0.5" stroke-dasharray="2 2"/>
                                <path d="M 10 25 L 190 25" stroke="#f87171" stroke-width="2" stroke-dasharray="4 2"/>
                                <text x="180" y="22" font-size="8" fill="#ef4444" font-weight="600">Goal: 90%</text>
                                <path d="M 10 80 L 40 60 L 70 50 L 100 40 L 130 30 L 160 20 L 190 15" stroke="#16a34a" stroke-width="3" fill="none"/>
                                <path d="M 10 80 L 40 60 L 70 50 L 100 40 L 130 30 L 160 20 L 190 15 L 190 90 L 10 90 Z" fill="#16a34a" fill-opacity="0.1"/>
                                <circle cx="10" cy="80" r="3" fill="#16a34a"/>
                                <circle cx="40" cy="60" r="3" fill="#16a34a"/>
                                <circle cx="70" cy="50" r="3" fill="#16a34a"/>
                                <circle cx="100" cy="40" r="3" fill="#16a34a"/>
                                <circle cx="130" cy="30" r="3" fill="#16a34a"/>
                                <circle cx="160" cy="20" r="3" fill="#16a34a"/>
                                <circle cx="190" cy="15" r="4" fill="#16a34a" stroke="white" stroke-width="2"/>
                            </svg>
                        </div>
                        <p class="mt-4 text-gray-700">
                            You were <span class="text-2xl font-bold text-green-600">92%</span> energy independent last month, 
                            <span class="font-semibold text-green-600">beating your goal</span> of 90%! üéâ
                        </p>
                    </div>
                    
                    <div class="bg-white p-6 rounded-xl shadow-lg card-hover">
                        <h4 class="text-xl font-bold text-gray-800 mb-4">üí∞ Financial Savings</h4>
                        <div class="h-64 bg-gradient-to-br from-gray-50 to-green-50 rounded-xl p-4">
                            <svg class="w-full h-full" viewBox="0 0 200 100">
                                <path d="M 10 90 L 190 90" stroke="#d1d5db" stroke-width="1.5"/>
                                <path d="M 10 10 L 10 90" stroke="#d1d5db" stroke-width="1.5"/>
                                <defs>
                                    <linearGradient id="barGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                        <stop offset="0%" style="stop-color:#4ade80;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#22c55e;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                <rect x="20" y="50" width="20" height="40" fill="url(#barGradient)" rx="2"></rect>
                                <rect x="50" y="30" width="20" height="60" fill="url(#barGradient)" rx="2"></rect>
                                <rect x="80" y="40" width="20" height="50" fill="url(#barGradient)" rx="2"></rect>
                                <rect x="110" y="20" width="20" height="70" fill="url(#barGradient)" rx="2"></rect>
                                <rect x="140" y="35" width="20" height="55" fill="url(#barGradient)" rx="2"></rect>
                                <rect x="170" y="25" width="20" height="65" fill="url(#barGradient)" rx="2"></rect>
                                <text x="30" y="97" font-size="6" text-anchor="middle" fill="#6b7280">M1</text>
                                <text x="60" y="97" font-size="6" text-anchor="middle" fill="#6b7280">M2</text>
                                <text x="90" y="97" font-size="6" text-anchor="middle" fill="#6b7280">M3</text>
                                <text x="120" y="97" font-size="6" text-anchor="middle" fill="#6b7280">M4</text>
                                <text x="150" y="97" font-size="6" text-anchor="middle" fill="#6b7280">M5</text>
                                <text x="180" y="97" font-size="6" text-anchor="middle" fill="#6b7280">M6</text>
                            </svg>
                        </div>
                        <p class="mt-4 text-gray-700">
                            You saved an estimated <span class="text-2xl font-bold text-green-600">$180</span> last month.
                            <span class="block mt-2 text-sm text-gray-600">Total savings this year: <span class="font-semibold text-green-600">$980</span></span>
                        </p>
                    </div>
                </div>
            </div>

            <div id="monitor-task7" class="sub-page hidden">
                <div class="max-w-4xl mx-auto">
                    <div class="bg-gradient-to-r from-red-600 to-red-700 text-white p-6 rounded-2xl shadow-2xl mb-6 animate-pulse">
                        <div class="flex items-start gap-4">
                            <div class="text-5xl">‚ö†Ô∏è</div>
                            <div class="flex-1">
                                <h3 class="text-2xl font-bold mb-2">CRITICAL ALERT: System Fault Detected</h3>
                                <p class="text-lg opacity-90">Inverter Offline - Immediate attention required</p>
                                <div class="mt-3 text-sm opacity-75">Detected: Today at 2:34 PM</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl shadow-lg mb-6">
                        <h4 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                            <span>üìã</span> What's Happening
                        </h4>
                        <div class="bg-red-50 border-l-4 border-red-500 p-5 rounded-lg mb-4">
                            <h5 class="font-bold text-red-900 mb-2">Problem:</h5>
                            <p class="text-red-800 text-lg">Your solar inverter has stopped responding.</p>
                        </div>
                        <div class="bg-yellow-50 border-l-4 border-yellow-500 p-5 rounded-lg">
                            <h5 class="font-bold text-yellow-900 mb-2">Impact:</h5>
                            <p class="text-yellow-800 text-lg">
                                ‚ö° Your home is currently drawing power from the grid.<br>
                                ‚òÄÔ∏è Solar production is paused.<br>
                                üîã Battery is not charging.
                            </p>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl shadow-lg mb-6">
                        <h4 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                            <span>üîß</span> Try These Steps First
                        </h4>
                        <div class="space-y-3">
                            <div class="troubleshooting-step p-4 border-2 border-gray-200 rounded-xl cursor-pointer">
                                <div class="flex items-start gap-3">
                                    <div class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold">1</div>
                                    <div class="flex-1">
                                        <h5 class="font-bold text-gray-800 mb-1">Check the circuit breaker</h5>
                                        <p class="text-gray-600 text-sm">Look for the breaker labeled "Solar System" in your electrical panel. Make sure it's in the ON position.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="troubleshooting-step p-4 border-2 border-gray-200 rounded-xl cursor-pointer">
                                <div class="flex items-start gap-3">
                                    <div class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold">2</div>
                                    <div class="flex-1">
                                        <h5 class="font-bold text-gray-800 mb-1">Check the inverter display</h5>
                                        <p class="text-gray-600 text-sm">Look at the screen or LED lights on your inverter (usually in the garage or utility room). Are there any error codes or red lights?</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="troubleshooting-step p-4 border-2 border-gray-200 rounded-xl cursor-pointer">
                                <div class="flex items-start gap-3">
                                    <div class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold">3</div>
                                    <div class="flex-1">
                                        <h5 class="font-bold text-gray-800 mb-1">Restart the inverter</h5>
                                        <p class="text-gray-600 text-sm">Turn off the DC disconnect switch near your inverter, wait 30 seconds, then turn it back on. Wait 5 minutes for the system to restart.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-6 p-4 bg-gray-50 rounded-xl">
                            <label class="flex items-center gap-3 cursor-pointer">
                                <input type="checkbox" id="tried-steps" class="w-5 h-5">
                                <span class="text-gray-700 font-medium">I've tried these steps and the problem persists</span>
                            </label>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl shadow-lg mb-6">
                        <h4 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                            <span>üë®‚Äçüîß</span> Need Expert Help?
                        </h4>
                        <p class="text-gray-600 mb-4">Our team is ready to assist you. We'll automatically send your system diagnostics to your assigned consultant.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button id="contact-expert-btn" class="bg-green-600 text-white px-8 py-4 rounded-xl font-semibold hover:bg-green-700 hover:shadow-lg transition-all duration-200 flex items-center justify-center gap-2">
                                <span>üìû</span> Contact Expert Now
                            </button>
                            <button class="bg-gray-200 text-gray-700 px-8 py-4 rounded-xl font-semibold hover:bg-gray-300 transition-all duration-200">
                                Mark as False Alarm
                            </button>
                        </div>
                    </div>

                    <div id="support-status" class="bg-white p-6 rounded-2xl shadow-lg hidden">
                        <div class="text-center">
                            <div class="text-6xl mb-4">‚úÖ</div>
                            <h4 class="text-2xl font-bold text-gray-800 mb-3">Alert Sent Successfully!</h4>
                            <p class="text-gray-600 mb-4">Your consultant has been notified and will review your system data shortly.</p>
                            
                            <div class="bg-gray-50 p-5 rounded-xl mb-4">
                                <div class="flex items-center justify-center gap-3 mb-3">
                                    <span class="text-lg font-semibold text-gray-700">Status:</span>
                                    <span class="status-badge status-pending">
                                        <span class="inline-block w-2 h-2 bg-yellow-600 rounded-full animate-pulse"></span>
                                        Awaiting Expert Review
                                    </span>
                                </div>
                                <p class="text-sm text-gray-600">Expected response: Within 2 hours</p>
                                <p class="text-sm text-gray-600 mt-1">Ticket #: <span class="font-mono font-semibold">INV-2025-1147</span></p>
                            </div>

                            <div class="bg-blue-50 p-4 rounded-xl text-left">
                                <h5 class="font-semibold text-blue-900 mb-2">What happens next?</h5>
                                <ul class="text-blue-800 space-y-1 text-sm">
                                    <li>‚úì Your consultant will review the system logs</li>
                                    <li>‚úì They may contact you for additional information</li>
                                    <li>‚úì You'll receive updates via SMS and app notification</li>
                                    <li>‚úì If needed, they'll schedule a technician visit</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="alert-banner" class="alert-banner">
        <div class="flex items-start gap-3">
            <div class="text-3xl">‚ö†Ô∏è</div>
            <div class="flex-1">
                <h4 class="font-bold text-lg mb-1">SYSTEM ALERT</h4>
                <p class="text-sm opacity-90">Inverter Offline - Click to view details</p>
            </div>
            <button class="text-white hover:text-gray-200 text-2xl" onclick="document.getElementById('alert-banner').classList.remove('active')">√ó</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
